(function(f,ie){typeof exports=="object"&&typeof module<"u"?module.exports=ie(require("react")):typeof define=="function"&&define.amd?define(["react"],ie):(f=typeof globalThis<"u"?globalThis:f||self,f.IranProvinceCitySelector=ie(f.React))})(this,function(f){"use strict";var ie=document.createElement("style");ie.textContent=`.flexible-input{position:relative;width:100%}.flexible-input__label{display:block;margin-bottom:.5rem;font-weight:600;color:var(--text-color, #333);font-family:Helvetica Neue,sans-serif}.flexible-input__input-container{position:relative;width:100%}.flexible-input__input,.flexible-input__select{width:100%;padding:.8rem 1.2rem .8rem 2.75rem;border-radius:.5rem;border:1px solid var(--border-color, #e2e8f0);background-color:var(--bg-color, white);color:var(--text-color, #333);letter-spacing:.5px;font-size:1rem;line-height:1.5;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;transition:border-color .2s ease,box-shadow .2s ease}.flexible-input__arrow{position:absolute;left:1rem;top:50%;transform:translateY(-50%);width:1rem;height:1rem;pointer-events:none;transition:transform .2s ease}.flexible-input__arrow.open{transform:translateY(-50%) rotate(180deg)}.flexible-input__options{position:absolute;top:calc(100% + .25rem);left:0;right:0;max-height:15rem;overflow-y:auto;background-color:var(--bg-color, white);border:2px solid var(--border-color, #e2e8f0);border-radius:.5rem;z-index:50;box-shadow:0 4px 6px -1px #0000001a}.flexible-input__option{padding:.75rem 1rem;cursor:pointer;transition:background-color .2s ease}.flexible-input__option:hover{background-color:var(--hover-bg, #f8fafc)}.flexible-input__option.selected{background-color:var(--selected-bg, #e5e7eb)}.flexible-input__no-results{padding:.75rem 1rem;color:var(--text-muted, #666);font-family:Helvetica Neue,sans-serif;text-align:center}.flexible-input.theme-light{--bg-color: white;--text-color: #333;--border-color: #e2e8f0;--hover-bg: #f8fafc;--selected-bg: #e5e7eb;--text-muted: #666}.flexible-input.theme-dark{--bg-color: #1a1a1a;--text-color: #fff;--border-color: #404040;--hover-bg: #262626;--selected-bg: #404040;--text-muted: #a3a3a3}.flexible-input.size-sm .flexible-input__input,.flexible-input.size-sm .flexible-input__select{padding:.5rem .75rem .5rem 2rem;font-size:.875rem}.flexible-input.size-lg .flexible-input__input,.flexible-input.size-lg .flexible-input__select{padding:1rem 1.25rem 1rem 3rem;font-size:1.125rem}.flexible-input.variant-filled .flexible-input__input,.flexible-input.variant-filled .flexible-input__select{border:none;background-color:var(--bg-color-filled, #f8fafc)}.flexible-input.disabled{opacity:.5;pointer-events:none}.flexible-input.error .flexible-input__input,.flexible-input.error .flexible-input__select{border-color:var(--error-color, #ef4444)}.flexible-input__input:focus,.flexible-input__select:focus{outline:none;border-color:var(--focus-color, #3b82f6);box-shadow:0 0 0 2px var(--focus-ring-color, rgba(59, 130, 246, .2))}.flexible-input.error .flexible-input__input:focus,.flexible-input.error .flexible-input__select:focus{box-shadow:0 0 0 2px var(--error-color, rgba(239, 68, 68, .2))}.flexible-input__input option.hidden{display:none}[dir=rtl] .flexible-input__input{padding-right:1rem;padding-left:2.5rem}[dir=rtl] .flexible-input__arrow{right:auto;left:.75rem}.province-city-select{direction:rtl;display:flex;flex-direction:column;gap:1rem;font-family:system-ui,-apple-system,sans-serif}.province-city-select__group{display:flex;flex-direction:column;gap:.5rem}.province-city-select__label{font-weight:500;color:var(--text-color, #333)}.province-city-select__select{padding:.75rem 1rem;border-radius:.5rem;border:2px solid var(--border-color, #e2e8f0);font-size:1rem;transition:all .2s ease;background-color:var(--bg-color, white);color:var(--text-color, #333);cursor:pointer;width:100%;outline:none}.province-city-select__select.theme-light{--bg-color: white;--text-color: #333;--border-color: #e2e8f0}.province-city-select__select.theme-dark{--bg-color: #1a1a1a;--text-color: #fff;--border-color: #404040}.province-city-select__select.size-sm{padding:.5rem .75rem;font-size:.875rem}.province-city-select__select.size-lg{padding:1rem 1.25rem;font-size:1.125rem}.province-city-select__select.variant-filled{border:none;background-color:var(--bg-color-filled, #f8fafc)}.province-city-select__select.variant-outlined:hover{border-color:var(--hover-color, #3b82f6)}.province-city-select__select:focus{border-color:var(--focus-color, #3b82f6);box-shadow:0 0 0 3px var(--focus-ring-color, rgba(59, 130, 246, .1))}.province-city-select__select.disabled{opacity:.5;cursor:not-allowed;pointer-events:none}.province-city-select__select.error{border-color:var(--error-color, #ef4444)}.required-mark{color:var(--error-color, #ef4444);margin-left:.25rem}.province-city-select__error{display:flex;align-items:center;gap:.75rem;color:var(--error-color, #ef4444);font-size:.9rem;font-weight:500;margin-top:.5rem}.error-icon{width:1rem;height:1rem}.province-city-select__loading{display:flex;justify-content:center;padding:1rem 0}.loading-spinner{width:1.5rem;height:1.5rem;border:2px solid #e2e8f0;border-top-color:#3b82f6;border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}[dir=rtl] .province-city-select{text-align:right}[dir=rtl] .required-mark{margin-right:.25rem;margin-left:0}@media (prefers-color-scheme: dark){.province-city-select__select.theme-light{--border-color: #404040}}.province-city-select__select:focus-visible{outline:2px solid var(--focus-color, #3b82f6);outline-offset:2px}.province-city-select__select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23666'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .75rem center;background-size:1rem;padding-right:2.5rem}[dir=rtl] .province-city-select__select{background-position:left .75rem center;padding-right:1rem;padding-left:2.5rem}
/*$vite$:1*/`,document.head.appendChild(ie);var we={exports:{}},he={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pe;function Ge(){if(Pe)return he;Pe=1;var i=f,_=Symbol.for("react.element"),l=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,h=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function g(S,m,a){var u,w={},P=null,Y=null;a!==void 0&&(P=""+a),m.key!==void 0&&(P=""+m.key),m.ref!==void 0&&(Y=m.ref);for(u in m)d.call(m,u)&&!n.hasOwnProperty(u)&&(w[u]=m[u]);if(S&&S.defaultProps)for(u in m=S.defaultProps,m)w[u]===void 0&&(w[u]=m[u]);return{$$typeof:_,type:S,key:P,ref:Y,props:w,_owner:h.current}}return he.Fragment=l,he.jsx=g,he.jsxs=g,he}var ye={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De;function He(){return De||(De=1,process.env.NODE_ENV!=="production"&&function(){var i=f,_=Symbol.for("react.element"),l=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),S=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),K=Symbol.iterator,ae="@@iterator";function $(e){if(e===null||typeof e!="object")return null;var r=K&&e[K]||e[ae];return typeof r=="function"?r:null}var A=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function x(e){{for(var r=arguments.length,t=new Array(r>1?r-1:0),o=1;o<r;o++)t[o-1]=arguments[o];oe("error",e,t)}}function oe(e,r,t){{var o=A.ReactDebugCurrentFrame,p=o.getStackAddendum();p!==""&&(r+="%s",t=t.concat([p]));var b=t.map(function(c){return String(c)});b.unshift("Warning: "+r),Function.prototype.apply.call(console[e],console,b)}}var G=!1,L=!1,le=!1,se=!1,ce=!1,M;M=Symbol.for("react.module.reference");function V(e){return!!(typeof e=="string"||typeof e=="function"||e===d||e===n||ce||e===h||e===a||e===u||se||e===Y||G||L||le||typeof e=="object"&&e!==null&&(e.$$typeof===P||e.$$typeof===w||e.$$typeof===g||e.$$typeof===S||e.$$typeof===m||e.$$typeof===M||e.getModuleId!==void 0))}function ue(e,r,t){var o=e.displayName;if(o)return o;var p=r.displayName||r.name||"";return p!==""?t+"("+p+")":t}function W(e){return e.displayName||"Context"}function T(e){if(e==null)return null;if(typeof e.tag=="number"&&x("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case d:return"Fragment";case l:return"Portal";case n:return"Profiler";case h:return"StrictMode";case a:return"Suspense";case u:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S:var r=e;return W(r)+".Consumer";case g:var t=e;return W(t._context)+".Provider";case m:return ue(e,e.render,"ForwardRef");case w:var o=e.displayName||null;return o!==null?o:T(e.type)||"Memo";case P:{var p=e,b=p._payload,c=p._init;try{return T(c(b))}catch{return null}}}return null}var D=Object.assign,k=0,H,U,ee,X,Z,B,J;function R(){}R.__reactDisabledLog=!0;function F(){{if(k===0){H=console.log,U=console.info,ee=console.warn,X=console.error,Z=console.group,B=console.groupCollapsed,J=console.groupEnd;var e={configurable:!0,enumerable:!0,value:R,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}k++}}function fe(){{if(k--,k===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:D({},e,{value:H}),info:D({},e,{value:U}),warn:D({},e,{value:ee}),error:D({},e,{value:X}),group:D({},e,{value:Z}),groupCollapsed:D({},e,{value:B}),groupEnd:D({},e,{value:J})})}k<0&&x("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var de=A.ReactCurrentDispatcher,re;function Q(e,r,t){{if(re===void 0)try{throw Error()}catch(p){var o=p.stack.trim().match(/\n( *(at )?)/);re=o&&o[1]||""}return`
`+re+e}}var pe=!1,te;{var Re=typeof WeakMap=="function"?WeakMap:Map;te=new Re}function Ee(e,r){if(!e||pe)return"";{var t=te.get(e);if(t!==void 0)return t}var o;pe=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var b;b=de.current,de.current=null,F();try{if(r){var c=function(){throw Error()};if(Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(O){o=O}Reflect.construct(e,[],c)}else{try{c.call()}catch(O){o=O}e.call(c.prototype)}}else{try{throw Error()}catch(O){o=O}e()}}catch(O){if(O&&o&&typeof O.stack=="string"){for(var s=O.stack.split(`
`),j=o.stack.split(`
`),E=s.length-1,C=j.length-1;E>=1&&C>=0&&s[E]!==j[C];)C--;for(;E>=1&&C>=0;E--,C--)if(s[E]!==j[C]){if(E!==1||C!==1)do if(E--,C--,C<0||s[E]!==j[C]){var N=`
`+s[E].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),typeof e=="function"&&te.set(e,N),N}while(E>=1&&C>=0);break}}}finally{pe=!1,de.current=b,fe(),Error.prepareStackTrace=p}var ge=e?e.displayName||e.name:"",ne=ge?Q(ge):"";return typeof e=="function"&&te.set(e,ne),ne}function Ce(e,r,t){return Ee(e,!1)}function Se(e){var r=e.prototype;return!!(r&&r.isReactComponent)}function ve(e,r,t){if(e==null)return"";if(typeof e=="function")return Ee(e,Se(e));if(typeof e=="string")return Q(e);switch(e){case a:return Q("Suspense");case u:return Q("SuspenseList")}if(typeof e=="object")switch(e.$$typeof){case m:return Ce(e.render);case w:return ve(e.type,r,t);case P:{var o=e,p=o._payload,b=o._init;try{return ve(b(p),r,t)}catch{}}}return""}var y=Object.prototype.hasOwnProperty,z={},be=A.ReactDebugCurrentFrame;function I(e){if(e){var r=e._owner,t=ve(e.type,e._source,r?r.type:null);be.setExtraStackFrame(t)}else be.setExtraStackFrame(null)}function _e(e,r,t,o,p){{var b=Function.call.bind(y);for(var c in e)if(b(e,c)){var s=void 0;try{if(typeof e[c]!="function"){var j=Error((o||"React class")+": "+t+" type `"+c+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[c]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw j.name="Invariant Violation",j}s=e[c](r,c,o,t,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(E){s=E}s&&!(s instanceof Error)&&(I(p),x("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",o||"React class",t,c,typeof s),I(null)),s instanceof Error&&!(s.message in z)&&(z[s.message]=!0,I(p),x("Failed %s type: %s",t,s.message),I(null))}}}var q=Array.isArray;function xe(e){return q(e)}function er(e){{var r=typeof Symbol=="function"&&Symbol.toStringTag,t=r&&e[Symbol.toStringTag]||e.constructor.name||"Object";return t}}function rr(e){try{return Ne(e),!1}catch{return!0}}function Ne(e){return""+e}function Ae(e){if(rr(e))return x("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",er(e)),Ne(e)}var ze=A.ReactCurrentOwner,tr={key:!0,ref:!0,__self:!0,__source:!0},We,Ye;function nr(e){if(y.call(e,"ref")){var r=Object.getOwnPropertyDescriptor(e,"ref").get;if(r&&r.isReactWarning)return!1}return e.ref!==void 0}function ir(e){if(y.call(e,"key")){var r=Object.getOwnPropertyDescriptor(e,"key").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function ar(e,r){typeof e.ref=="string"&&ze.current}function or(e,r){{var t=function(){We||(We=!0,x("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",r))};t.isReactWarning=!0,Object.defineProperty(e,"key",{get:t,configurable:!0})}}function lr(e,r){{var t=function(){Ye||(Ye=!0,x("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",r))};t.isReactWarning=!0,Object.defineProperty(e,"ref",{get:t,configurable:!0})}}var sr=function(e,r,t,o,p,b,c){var s={$$typeof:_,type:e,key:r,ref:t,props:c,_owner:b};return s._store={},Object.defineProperty(s._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,"_self",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(s,"_source",{configurable:!1,enumerable:!1,writable:!1,value:p}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s};function cr(e,r,t,o,p){{var b,c={},s=null,j=null;t!==void 0&&(Ae(t),s=""+t),ir(r)&&(Ae(r.key),s=""+r.key),nr(r)&&(j=r.ref,ar(r,p));for(b in r)y.call(r,b)&&!tr.hasOwnProperty(b)&&(c[b]=r[b]);if(e&&e.defaultProps){var E=e.defaultProps;for(b in E)c[b]===void 0&&(c[b]=E[b])}if(s||j){var C=typeof e=="function"?e.displayName||e.name||"Unknown":e;s&&or(c,C),j&&lr(c,C)}return sr(e,s,j,p,o,ze.current,c)}}var ke=A.ReactCurrentOwner,Le=A.ReactDebugCurrentFrame;function me(e){if(e){var r=e._owner,t=ve(e.type,e._source,r?r.type:null);Le.setExtraStackFrame(t)}else Le.setExtraStackFrame(null)}var je;je=!1;function Te(e){return typeof e=="object"&&e!==null&&e.$$typeof===_}function Me(){{if(ke.current){var e=T(ke.current.type);if(e)return`

Check the render method of \``+e+"`."}return""}}function ur(e){return""}var Ve={};function fr(e){{var r=Me();if(!r){var t=typeof e=="string"?e:e.displayName||e.name;t&&(r=`

Check the top-level render call using <`+t+">.")}return r}}function Ue(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var t=fr(r);if(Ve[t])return;Ve[t]=!0;var o="";e&&e._owner&&e._owner!==ke.current&&(o=" It was passed a child from "+T(e._owner.type)+"."),me(e),x('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',t,o),me(null)}}function Be(e,r){{if(typeof e!="object")return;if(xe(e))for(var t=0;t<e.length;t++){var o=e[t];Te(o)&&Ue(o,r)}else if(Te(e))e._store&&(e._store.validated=!0);else if(e){var p=$(e);if(typeof p=="function"&&p!==e.entries)for(var b=p.call(e),c;!(c=b.next()).done;)Te(c.value)&&Ue(c.value,r)}}}function dr(e){{var r=e.type;if(r==null||typeof r=="string")return;var t;if(typeof r=="function")t=r.propTypes;else if(typeof r=="object"&&(r.$$typeof===m||r.$$typeof===w))t=r.propTypes;else return;if(t){var o=T(r);_e(t,e.props,"prop",o,e)}else if(r.PropTypes!==void 0&&!je){je=!0;var p=T(r);x("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",p||"Unknown")}typeof r.getDefaultProps=="function"&&!r.getDefaultProps.isReactClassApproved&&x("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function pr(e){{for(var r=Object.keys(e.props),t=0;t<r.length;t++){var o=r[t];if(o!=="children"&&o!=="key"){me(e),x("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",o),me(null);break}}e.ref!==null&&(me(e),x("Invalid attribute `ref` supplied to `React.Fragment`."),me(null))}}var Je={};function Ke(e,r,t,o,p,b){{var c=V(e);if(!c){var s="";(e===void 0||typeof e=="object"&&e!==null&&Object.keys(e).length===0)&&(s+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var j=ur();j?s+=j:s+=Me();var E;e===null?E="null":xe(e)?E="array":e!==void 0&&e.$$typeof===_?(E="<"+(T(e.type)||"Unknown")+" />",s=" Did you accidentally export a JSX literal instead of a component?"):E=typeof e,x("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",E,s)}var C=cr(e,r,t,p,b);if(C==null)return C;if(c){var N=r.children;if(N!==void 0)if(o)if(xe(N)){for(var ge=0;ge<N.length;ge++)Be(N[ge],e);Object.freeze&&Object.freeze(N)}else x("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Be(N,e)}if(y.call(r,"key")){var ne=T(e),O=Object.keys(r).filter(function(yr){return yr!=="key"}),Oe=O.length>0?"{key: someKey, "+O.join(": ..., ")+": ...}":"{key: someKey}";if(!Je[ne+Oe]){var hr=O.length>0?"{"+O.join(": ..., ")+": ...}":"{}";x(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Oe,ne,hr,ne),Je[ne+Oe]=!0}}return e===d?pr(C):dr(C),C}}function vr(e,r,t){return Ke(e,r,t,!0)}function br(e,r,t){return Ke(e,r,t,!1)}var mr=br,gr=vr;ye.Fragment=d,ye.jsx=mr,ye.jsxs=gr}()),ye}process.env.NODE_ENV==="production"?we.exports=Ge():we.exports=He();var v=we.exports,Xe=function(i){var _=i.value,l=i.onChange,d=i.options,h=i.inputType,n=h===void 0?"select":h,g=i.placeholder,S=g===void 0?"":g,m=i.disabled,a=m===void 0?!1:m,u=i.required,w=u===void 0?!1:u,P=i.theme,Y=P===void 0?"light":P,K=i.size,ae=K===void 0?"md":K,$=i.variant,A=$===void 0?"outlined":$,x=i.label,oe=i.error,G=oe===void 0?!1:oe,L=i.className,le=L===void 0?"":L,se=i.style,ce=f.useState(!1),M=ce[0],V=ce[1],ue=f.useState(_),W=ue[0],T=ue[1],D=f.useState(d),k=D[0],H=D[1],U=f.useRef(null),ee=f.useRef(null);f.useEffect(function(){if(T(_),n!=="select"){var R=d.filter(function(F){return F.label.toLowerCase().includes(W.toLowerCase())});H(R)}else H(d)},[_,W,d,n]),f.useEffect(function(){var R=function(F){U.current&&!U.current.contains(F.target)&&V(!1)};return document.addEventListener("mousedown",R),function(){return document.removeEventListener("mousedown",R)}},[]);var X=["flexible-input","theme-".concat(Y),"size-".concat(ae),"variant-".concat(A),G&&"error",a&&"disabled",M&&"open",le].filter(Boolean).join(" "),Z=function(R){T(R.target.value),V(!0)},B=function(R){l(R);var F=d.find(function(fe){return fe.value===R});n!=="select"&&F&&T(F.label),V(!1)},J=function(){switch(n){case"select":case"autocomplete":case"combobox":return v.jsx("input",{ref:ee,type:"text",value:n==="select"?_:W,onChange:Z,disabled:a,required:w,placeholder:S,className:"flexible-input__input",onFocus:function(){return V(!0)}});default:return v.jsx("input",{ref:ee,type:"text",value:W,onChange:Z,disabled:a,required:w,placeholder:S,className:"flexible-input__input",onFocus:function(){return V(!0)}})}};return v.jsxs("div",{className:X,ref:U,style:se,children:[x&&v.jsxs("label",{className:"flexible-input__label",children:[x,w&&v.jsx("span",{className:"required-mark",children:"*"})]}),v.jsxs("div",{className:"flexible-input__input-container",children:[J(),v.jsx("svg",{className:"flexible-input__arrow ".concat(M?"open":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("path",{d:"M19 9l-7 7-7-7"})})]}),M&&v.jsxs("div",{className:"flexible-input__options",children:[k.map(function(R){return v.jsx("div",{className:"flexible-input__option ".concat(_===R.value?"selected":""),onClick:function(){return B(R.value)},children:R.label},R.value)}),k.length===0&&v.jsx("div",{className:"flexible-input__no-results",children:"هیچ نتیجه‌ای یافت نشد"})]})]})};const Fe=f.memo(Xe);var Ze=function(i,_,l,d){function h(n){return n instanceof l?n:new l(function(g){g(n)})}return new(l||(l=Promise))(function(n,g){function S(u){try{a(d.next(u))}catch(w){g(w)}}function m(u){try{a(d.throw(u))}catch(w){g(w)}}function a(u){u.done?n(u.value):h(u.value).then(S,m)}a((d=d.apply(i,[])).next())})},Qe=function(i,_){var l={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},d,h,n,g=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return g.next=S(0),g.throw=S(1),g.return=S(2),typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function S(a){return function(u){return m([a,u])}}function m(a){if(d)throw new TypeError("Generator is already executing.");for(;g&&(g=0,a[0]&&(l=0)),l;)try{if(d=1,h&&(n=a[0]&2?h.return:a[0]?h.throw||((n=h.return)&&n.call(h),0):h.next)&&!(n=n.call(h,a[1])).done)return n;switch(h=0,n&&(a=[a[0]&2,n.value]),a[0]){case 0:case 1:n=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,h=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(n=l.trys,!(n=n.length>0&&n[n.length-1])&&(a[0]===6||a[0]===2)){l=0;continue}if(a[0]===3&&(!n||a[1]>n[0]&&a[1]<n[3])){l.label=a[1];break}if(a[0]===6&&l.label<n[1]){l.label=n[1],n=a;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(a);break}n[2]&&l.ops.pop(),l.trys.pop();continue}a=_.call(i,l)}catch(u){a=[6,u],h=0}finally{d=n=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Ie=f.memo(function(i){var _=i.message,l=i.style;return v.jsxs("div",{className:"province-city-select__error",style:l,children:[v.jsxs("svg",{className:"error-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),v.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"16"})]}),v.jsx("span",{children:_})]})}),qe=f.memo(function(i){var _=i.style;return v.jsx("div",{className:"province-city-select__loading",style:_,children:v.jsx("div",{className:"loading-spinner"})})}),$e=f.memo(function(i){var _=i.value,l=_===void 0?{province:"",city:""}:_,d=i.onChange,h=i.theme,n=h===void 0?"light":h,g=i.size,S=g===void 0?"md":g,m=i.variant,a=m===void 0?"outlined":m,u=i.isRequired,w=u===void 0?!1:u,P=i.isDisabled,Y=P===void 0?!1:P,K=i.placeholders,ae=K===void 0?{province:"انتخاب استان",city:"انتخاب شهر"}:K,$=i.labels,A=$===void 0?{province:"استان",city:"شهر"}:$,x=i.className,oe=x===void 0?"":x,G=i.onProvinceChange,L=i.onCityChange,le=i.selectorType,se=le===void 0?"select":le,ce=i.style,M=i.groupStyle,V=i.provinceInputStyle,ue=i.cityInputStyle,W=i.errorStyle,T=i.loadingStyle,D=f.useState(l.province),k=D[0],H=D[1],U=f.useState(l.city),ee=U[0],X=U[1],Z=f.useState(""),B=Z[0],J=Z[1],R=f.useState([]),F=R[0],fe=R[1],de=f.useState(!0),re=de[0],Q=de[1],pe=f.useState(null),te=pe[0],Re=pe[1],Ee=f.useMemo(function(){return F.map(function(y){return{value:y.name,label:y.name}})},[F]),Ce=f.useMemo(function(){var y;return((y=F.find(function(z){return z.name===k}))===null||y===void 0?void 0:y.cities.map(function(z){return{value:z,label:z}}))||[]},[F,k]);f.useEffect(function(){var y=function(){return Ze(void 0,void 0,void 0,function(){var z,I,be,I,_e;return Qe(this,function(q){switch(q.label){case 0:if(z=localStorage.getItem("provincesData"),z)try{if(I=JSON.parse(z),Array.isArray(I))return fe(I),Q(!1),[2]}catch(xe){console.error("Error parsing cached data:",xe)}q.label=1;case 1:return q.trys.push([1,4,,5]),[4,fetch("https://gist.githubusercontent.com/mahdialavitabar/115d131d6fe1f56e1f177aa4c741739d/raw/a070a0fe4f82a8a378c67d42abda3046134ed97c/data.json")];case 2:if(be=q.sent(),!be.ok)throw new Error("Network response was not ok");return[4,be.json()];case 3:if(I=q.sent(),Array.isArray(I))fe(I),localStorage.setItem("provincesData",JSON.stringify(I)),Q(!1);else throw new Error("Fetched data is not an array");return[3,5];case 4:return _e=q.sent(),console.error("Error fetching provinces data:",_e),Re(_e.message),Q(!1),[3,5];case 5:return[2]}})})};y()},[]),f.useEffect(function(){H(l.province),X(l.city),l.province&&l.city?J(""):l.province?l.city||J("لطفا شهر را انتخاب کنید"):J("لطفا استان را انتخاب کنید")},[l]);var Se=f.useCallback(function(y){H(y),X(""),d==null||d({province:y,city:""}),G==null||G(y)},[d,G]),ve=f.useCallback(function(y){X(y),d==null||d({province:k,city:y}),L==null||L(y),k&&y&&J("")},[d,L,k]);return v.jsxs("div",{className:"province-city-select ".concat(oe),style:ce,children:[v.jsx("div",{className:"province-city-select__group",style:M,children:v.jsx(Fe,{value:k,onChange:Se,options:Ee,inputType:se,placeholder:ae.province,disabled:Y||re,required:w,theme:n,size:S,variant:a,label:A.province,error:!!B,style:V})}),v.jsx("div",{className:"province-city-select__group",style:M,children:v.jsx(Fe,{value:ee,onChange:ve,options:Ce,inputType:se,placeholder:ae.city,disabled:!k||Y||re,required:w,theme:n,size:S,variant:a,label:A.city,error:!!B,style:ue})}),B&&v.jsx(Ie,{message:B,style:W}),re&&v.jsx(qe,{style:T}),te&&v.jsx(Ie,{message:te,style:W})]})});return $e});
